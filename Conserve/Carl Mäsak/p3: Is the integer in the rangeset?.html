http://strangelyconsistent.org/blog/p3-is-the-integer-in-the-rangeset
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name=viewport content="width=device-width, initial-scale=1">
    <title>p3: Is the integer in the rangeset? :: Strangely Consistent</title>
    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="alternate" title="Strangely Consistent atom feed" href="http://strangelyconsistent.org/blog/feed.atom" type="application/atom+xml">
    <link href='http://fonts.googleapis.com/css?family=OFL+Sorts+Mill+Goudy+TT:italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Molengo' rel='stylesheet' type='text/css'>
    <style type="text/css" media="all"> 
      @import "http://strangelyconsistent.org/blog/css/main.css";
    </style>
  </head>
  <body>
    <header>
      <hgroup>
        <h1><a href="/">Strangely Consistent</a></h1>
        <h2>Theory, practice, and languages, braided together</h2>
      </hgroup>
      <nav>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="http://strangelyconsistent.org/blog/list-of-posts">Archive</a></li>
        </ul>
      </nav>
    </header>

    <article>
  <header>
    <div class="postinfo">
      <div><time datetime="2011-01-22T19:15:00+01:00" pubdate="pubdate">22 Jan, 2011</time></div>
      <div>by Carl MÃ¤sak</div>
      <div><a href="/no-comments">no notes</a></div>
    </div>
    <h1><a href="http://strangelyconsistent.org/blog/p3-is-the-integer-in-the-rangeset">p3: Is the integer in the rangeset?</a></h1>
  </header>

  <p><em>Hi! New here, and don't know what's currently going on? Well, I'm currently summarizing the results of the <a href="http://strangelyconsistent.org/blog/masaks-perl-6-coding-contest">Perl 6 coding context</a>.</em></p>

<div class='quote'><code>* moritz_ wonders if the test can be made without constructing the full included subset</code></div>

<p>I've reviewed and published <a href="http://strangelyconsistent.org/p6cc2010/">the p3 submissions</a>. On the page linked, you can browse the solutions, along with my notes.</p>

<p>As a refresher, Here's the p3 problem description:</p>

<pre><code>== Find out whether a given integer is contained inside a given set of integer ranges

Two lines of input are expected. The first line should be a sequence of
included and excluded integer intervals, on this form:

    +[ 42 .. 100 ] -[ 50 .. 60 ] -[ -10 .. 2 ]

The format of this line should be free-form and horizontal whitespace shouldn't
matter one way or the other.

The second line should be an integer to be tested for inclusion.

The output should be "yes" if the integer is contained in the ranges, and "no"
otherwise. The interval specification above would answer "yes" for all
numbers between 42 and 49 inclusive, or between 61 and 100 inclusive.

Note the difference between the '-' outside the brackets meaning "don't include
these numbers" and the '-' inside meaning "negative number". Also, as you see
from the example, it's perfectly OK to exclude numbers that were never
included. Inclusions and exclusions are performed from left to right. Before
any inclusions/exclusions have been made, all integers are excluded.

Consider that the ranges can be very large.
</code></pre>

<p>Ok, I need to admit I messed things up in preparing this task. I meant to steer people towards implementing inversion lists, but...</p>

<pre><code>&lt;pmichaud&gt; hmmm, I've already solved #3 on paper (for handling character classes in nqp)
&lt;masak&gt; *nod*
&lt;moritz_&gt; inversion lists!
&lt;masak&gt; (dang) :)
* moritz_ cackles evilly
&lt;masak&gt; don't tell anyone, OK? :)
&lt;moritz_&gt; but actually inversion lists are not the easiest solution for this one
&lt;masak&gt; no?
&lt;moritz_&gt; no
</code></pre>

<p>...it would only make sense to implement the problem using inversion lists if the same rangeset is used for testing several different integers. When testing just one, as we do, a rangeset is overkill. Much less involved solutions exist.</p>

<p>So this became probably the easiest problem of the bunch. Still quite nice to see how people attack it. This time, three of the submitters go for a grammar-based solutions, whereas the other two favour smaller <code>.split</code>/<code>.comb</code>-based approaches. Of the three that went with grammars, two also included tests, using the cute <code>MAIN()</code>/<code>MAIN('test')</code> idiom.</p>

<p>Make sure you <a href="http://strangelyconsistent.org/p6cc2010/">have a look</a> at the solutions.</p>

</article>

  </body>
</html>
